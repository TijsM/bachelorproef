

\section{Besturingssystemen en PWA’s}

Om te weten te komen voor welke toepassingen een PWA gemaakt kan worden en voor welke toepassingen nog steeds een native applicatie nodig is, is het belangrijk om te weten wat de technische mogelijkheden zijn van een PWA. In deze sectie van de literatuurstudie wordt er bekeken welke functies, die beschikbaar zijn voor native applicaties, al dan niet gebruikt kunnen worden door PWA’s.

Dit onderzoek werd gevoerd met behulp van de website whatwebcando.today en caniuse.com. 

whatwebcando.today is een website die kleine voorbeelden van verschillende technologieën demonstreert. Door deze voorbeelden te testen op verschillende platformen kan er uitgemaakt worden welke technologieën er beschikbaar zijn voor het web, en op welke platformen deze beschikbaar zijn.

Caniuse.com is een website die voor verschillende web-technologieën een overzicht biedt op welke browsers deze technologie gebruikt kan worden en op welke niet. Deze website werd gebruikt om de ondervindingen van de testen die werden uitgevoerd te valideren. 

Een web-API is een API die wordt aangeboden door de browser. Het verschil met web-API’s en traditionele API’s is dat web-API’s lokaal worden aangeboden door de browser en er dus geen internetverbinding nodig is om van deze functionaliteiten te genieten.

\autocite{Mozilla2019c}

Als er meer informatie nodig was over de web API’s werd deze gevonden op developers.Google.com of op developer.mozilla.org. 

Er werd gekeken op welke platformen bepaalde functies wel en niet werkten. De volgende platformen werden onderzocht:
\begin{itemize}
   \item Desktop:
   \begin{itemize}
     \item	Microsoft edge versie 80 op Windows 10
     \item	Mozilla firefox versie 73.0 op Windows 10
     \item	Google Chrome versie 79.0 op Windows 10
     \item  Safari (desktop) versie 13.0.5 op een Macbook Pro met macOS Mojave (10.14.6)
   \end{itemize}
\end{itemize}


\begin{itemize}
   \item Mobiel:
   \begin{itemize}
     \item Google Chrome versie 80 op Android 10 op een OnePlus 6
     \item Safari (mobiel) versie 13 op IOS 13 op een IPhone SE 
     
   \end{itemize}
\end{itemize}

De testen werden uitgevoerd op 7 maart 2020.

De website whatwebcando.today geeft een overzicht van de functionaliteiten aan de hand van een bepaalde structuur. Deze structuur werd overgenomen en ziet er als volgt uit:
   \begin{itemize}
     \item	Media
     \item	Verbinding
     \item	Toestel kenmerken
     \item	Native gedrag
     \item	Besturingssysteem
     \item	Input
     \item	User experience
     \item	Locatie en positionering
     \item	Scherm en output
   \end{itemize}

\subsection{Onderzoek}

\subsubsection{Media}

\paragraph{Video met audio }

Sommige van de meest populaire mobiele applicaties zijn sterk afhankelijk van camera-functionaliteit. Voorbeelden hiervan zijn Snapchat, Instagram, Messenger, WhatsApp, … 

Bij deze applicaties is het belangrijk dat de camera aan volgende vereisten voldoet:

   \begin{itemize}
     \item	Snel en eenvoudig te gebruiken
     \item	Er moet van camera gewisseld kunnen worden
     \item	Er moet ingezoomd kunnen worden
     \item	De flashlight moet gebruikt kunnen worden
   \end{itemize}

De media capture API \autocite{DzungDTran}  maakt het mogelijk om een video die opgenomen wordt met de camera van het toestel te tonen op de webpagina. Deze video kan dan opgeslagen worden in de code en verzonden worden naar een server. 

\autocite{Fransson2017}

De media capture API is ook in staat om aan het toestel te vragen welke camera’s er beschikbaar zijn en dan te verwisselen van camera.

\autocite{Scales2020a}

Ook meer geavanceerde functionaliteiten zijn beschikbaar. Het gedrag van de zoom en de flashlight kan ook programmatisch bepaald worden.

\autocite{Oberhofer2017} \autocite{Ogundipe2018}


Al de belangrijkste functionaliteiten die een gebruiker verwacht, zijn allemaal aanwezig. Applicaties die afhankelijk zijn van video-opnames kunnen dus geïmplementeerd worden als PWA.

\begin{table}[]
	\begin{tabular}{llllll}
		Edge & Firefox & Chrome & Safari & Android (Chrome) & IOS (Safari) \\
		Ja   & Ja      & Ja     & Ja     & Ja               & Ja          
	\end{tabular}	
	\caption{ondersteuning van de Media Capture API}
	\label{ondersteuning_MediaCapture}
\end{table}



\paragraph{Foto's }

Het vastleggen van foto’s is ook voor veel populaire applicaties belangrijk. Ook dit is een belangrijke functionaliteit voor sociale media applicaties.

Foto’s die gedeeld worden op sociale media moeten vaak van een zo hoog mogelijke kwaliteit zijn. Op native applicaties wordt deze kwaliteit bereikt door volgende eigenschappen: 

 \begin{itemize}
     \item Manuele en automatische focus
     \item Aanpassen van sluitersnelheid
     \item Aanpassen van witbalans
     \item Aanpassen ISO-waarde
     \item Gebruik maken van HDR 
   \end{itemize}

Foto’s kunnen ook, net zoals een video, genomen worden aan de hand van de Media capture API. Deze API is echter niet in staat om deze instellingen van de camera aan te passen.

De Image Capture API \autocite{Mandyam2020} is ontwikkeld om meer controle te hebben over de camera. Deze API zorgt ervoor dat instellingen zoals witbalans, temperatuur, exposure, ISO, helderheid, contrast, saturatie, zoom, … programmatisch aangepast kunnen worden.

Deze API heeft standaard geen ondersteuning voor HDR, maar dit kan zelf geïmplementeerd worden aan de hand van ‘third-party-packages’.

\autocite{Bhaumik2019}

\begin{table}[]
	\begin{tabular}{llllll}
		Edge & Firefox & Chrome & Safari & Android (Chrome) & IOS (Safari) \\
		Nee   & Nee      & Ja     & Nee     & Ja               & Nee          
	\end{tabular}	
	\caption{ondersteuning van de Image Capture API}
	\label{ondersteuning_MediaCapture}
\end{table}



\paragraph{Geluidopname }

De mediarecorder API, \autocite{CasasSanchez2020} door meerdere browsers aangeboden, is een manier om eenvoudig geluidsfragmenten op te nemen en te importeren in een webapplicatie.

Helaas is er voor Apple-toestellen geen ondersteuning. In de toekomst zal deze functie waarschijnlijk ook beschikbaar worden voor deze toestellen. Dit wordt in de volgende versie van Safari (Safari 14) voor desktop verwacht. Voor Safari voor IOS bestaat deze functie al maar is het nog een experimentele functie die de gebruiker zelf moet activeren.


%TODO: checken voor nieuwe update IOS 14
******************** checken voor nieuwe update IOS 14 **************************

\begin{table}[]
	\begin{tabular}{llllll}
		Edge & Firefox & Chrome & Safari & Android (Chrome) & IOS (Safari) \\
		Ja   & Ja      & Ja     & Nee     & Ja               & Nee          
	\end{tabular}	
	\caption{ondersteuning van de Image Capture API}
	\label{ondersteuning_ImageCapture}
\end{table}

Gelukkig is er een alternatief voorzien met HTML5-tags. Dit is een methode die voor alle platformen zal werken maar niet op dezelfde manier.

\begin{lstlisting}
<input type="file" accept="audio/*" capture>
\end{lstlisting}

Er wordt gebruik gemaakt van een inputveld waar de gebruiker een bestand kan uploaden. Door het accept attribuut wordt duidelijk gemaakt dat enkel audiofragmenten geüpload mogen worden. Het capture attribuut zorgt ervoor dat waar mogelijk de gebruiker een audiofragment kan opnemen in de default geluidsopname app. Dit fragment wordt dan automatisch geïmporteerd in de webapplicatie. Dit is enkel mogelijk op mobiele toestellen en dus niet in desktopbrowsers.

\autocite{Kinlan2019}

Dit is een goed voorbeeld van progressive enhancement. 



\paragraph{Real-time communicatie }

Bij de meeste populaire communicatieapplicaties zoals WhatsApp, Messenger, Skype, … is videobellen mogelijk. Om dit mogelijk te maken moet er live video en audio gestreamd kunnen worden tussen twee of meer personen.

‘Real-time communication in the web’ of WebRTC \autocite{Jennings2020} is een verzameling van API’s die het verzenden en ontvangen van real-time video en audio mogelijk maakt, zonder afhankelijk te zijn van een gecentraliseerde server. Deze server is echter wel nodig om een connectie tot stand te brengen. Eens deze connectie er is, is er een peer-to-peer verbinding.

\begin{table}[]
	\begin{tabular}{llllll}
		Edge & Firefox & Chrome & Safari & Android (Chrome) & IOS (Safari) \\
		Ja   & Ja      & Ja     & Ja     & Ja               & ja          
	\end{tabular}	
	\caption{ondersteuning van WebRTC}
	\label{ondersteuning_WebRTC}
\end{table}



\paragraph{Casting}

Applicaties die media tonen aan de gebruiker kunnen deze casten naar tv-toestel. Dit gebeurt bij Apple toestellen aan de hand van Airplay en bij Android toestellen aan de hand van google cast.

YouTube is een applicatie die hier gebruik van maakt. Als er een video bekeken wordt, zal de gebruiker een optie krijgen om deze te tonen om een tv.

Op Apple toestellen kan een PWA nu ook AirPlay implementeren. 
\autocite{Apple2020a}

De Chrome Sender API \autocite{Developers2020b} zorgt ervoor dat alle modern toestellen media kunnen delen op een tv of ander scherm die dit ondersteund.

\begin{table}[]
	\begin{tabular}{llllll}
		Edge & Firefox & Chrome & Safari & Android (Chrome) & IOS (Safari) \\
		Nee   & Nee      & Nee     & Ja     & Nee               & Ja          
	\end{tabular}	
	\caption{ondersteuning Apple AirPlay}
	\label{ondersteuning_AirPlay}
\end{table}
\begin{table}[]
	\begin{tabular}{llllll}
		Edge & Firefox & Chrome & Safari & Android (Chrome) & IOS (Safari) \\
		Ja   & Ja      & Ja     & Ja     & Ja               & ja          
	\end{tabular}	
	\caption{ondersteuning van Chrome Sender API}
	\label{ondersteuning_ChromeSender}
\end{table}




\paragraph{Media-controle in de notificatie }


Als een native applicatie media afspeelt op een mobiel toestel, kan deze applicatie bestuurd worden vanuit de notificatie. De afgespeelde media zal ook niet stoppen als een gebruiker de applicatie verlaat

Een voorbeeld hiervan is Spotify, in de notificatie van Spotify kan de gebruiker volgende acties uitvoeren.
 \begin{itemize}
   \item	Informatie bekijken over het nummer
   \item	Naar het volgende nummer gaan
   \item	Het nummer pauzeren
   \item	Het nummer toevoegen aan “mijn favorieten”
   \item	De vooruitgang van het nummer zien en aanpassen
\end{itemize}
De Media Session API \autocite{Beaufort2019} zorgt ervoor dat als er media afgespeeld wordt op een website, en de browser wordt gesloten, de media niet zal stoppen met afspelen.

Deze API zorgt er ook voor dat er een notificatie komt waar de gebruiker controle heeft over de afgespeelde media. 

Het voorbeeld van Spotify kan dus volledig geïmplementeerd worden als PWA.

\begin{table}[]
	\begin{tabular}{llllll}
		Edge & Firefox & Chrome & Safari & Android (Chrome) & IOS (Safari) \\
		Ja   & Ja      & Ja     & Ja     & Ja               & ja          
	\end{tabular}	
	\caption{ondersteuning van Media Session API}
	\label{ondersteuning_MediaSession}
\end{table}



\subsubsection{Connectie met andere apparaten}



\paragraph{Bluetooth }

Native applicaties kunnen een verbinding maken met bluetooth-toestellen. Eens er een verbinding is, kan er informatie uitgewisseld worden tussen de toestellen. Een voorbeeld van een applicatie die hier gebruik van maakt is de ‘Sony Headphones’ app. Aan de hand van deze app kan er verbinding gemaakt worden met een koptelefoon en kunnen de instellingen van de koptelefoon aangepast worden.

Met de Web Bluetooth API \autocite{Grant2020} kan er vanuit de browser verbinding gemaakt worden met bluetooth-toestellen. De web API heeft zowel schrijf- als leesrechten bij externe toestellen. 

Er kan dus geconcludeerd worden dat de Web Bluetooth API kan gebruikt worden voor applicaties die gebruik moeten maken van bluetooth-toestellen.

\autocite{Beaufort2019a}

\begin{table}[]
	\begin{tabular}{llllll}
		Edge & Firefox & Chrome & Safari & Android (Chrome) & IOS (Safari) \\
		Ja   & Nee      & Ja     & Nee     & Ja               & Nee          
	\end{tabular}	
	\caption{ondersteuning van Web Bluetooth API}
	\label{ondersteuning_WebBluetooth}
\end{table}



\paragraph{USB}

Verkopers van toestellen met USB kunnen nu gebruik maken van de Web USB API, \autocite{Rockot2020}. Bij het verbinden van een USB-toestel kan er automatisch een website geopend worden waarmee het toestel kan interageren.
 
Dit kan interessant zijn voor toestellen die een eenmalige set-up nodig hebben. Met deze technologie kan vermeden worden dat er overbodige software moet geïnstalleerd worden op het toestel van de gebruiker. 

Dit is echter enkel mogelijk met een beperkt aantal browsers en er moet een HTTPS-verbinding zijn.

\autocite{Beaufort2019b}

\begin{table}[]
	\begin{tabular}{llllll}
		Edge & Firefox & Chrome & Safari & Android (Chrome) & IOS (Safari) \\
		Ja   & Nee      & Ja     & Nee     & Ja               & Nee          
	\end{tabular}	
	\caption{ondersteuning van Web USB API}
	\label{ondersteuning_WebUSB}
\end{table}


\paragraph{NFC}

Near field communication of NFC is een technologie om een kleine hoeveelheid informatie uit te wisselen over een kleine afstand (Maximum 20cm). NFC wordt gebruikt om draadloze betalingen uit te voeren met een betaalkaart of met een smartphone. 
\autocite{Paus2007}

\begin{table}[]
	\begin{tabular}{llllll}
		Edge & Firefox & Chrome & Safari & Android (Chrome) & IOS (Safari) \\
		Nee   & Nee      &  Nee     & Nee     & Nee               & Nee          
	\end{tabular}	
	\caption{ondersteuning van Web NFC API }
	\label{ondersteuning_WebNFC}
\end{table}

Dit is een functie met veel mogelijkheden die helaas niet beschikbaar is voor webapplicaties.
Er bestaat echter wel een API om gebruik te kunnen maken van NFC \autocite{RohdeChristiansen2020}, maar de Web NFC API is een experimentele API. Dit betekent dat de eindgebruiker dit nog niet kan gebruiken.



\subsubsection{Toestelkenmerken}


\paragraph{Netwerkinformatie}

De Network information API \autocite{Lamouri2020} voorziet informatie over het type netwerkverbinding die de gebruiker momenteel bezit. Deze informatie bevat het connectietype (2g, 3g, 4g) en wat de maximale downloadsnelheid is van deze verbinding.

\begin{table}[]
	\begin{tabular}{llllll}
		Edge & Firefox & Chrome & Safari & Android (Chrome) & IOS (Safari) \\
		Nee   & Nee      &  Ja     & Nee     & Ja               & Nee          
	\end{tabular}	
	\caption{ondersteuning van Network information API }
	\label{ondersteuning_NetworkInformation}
\end{table}

\paragraph{Online status}

dit is een eenvoudige eigenschap die kan opgeroepen worden op het navigator object. Deze eigenschap bevat een booleaanse waarde die “waar” zal zijn als de gebruiker een connectie heeft met het internet. Deze informatie kan interessant zijn bij het ontwikkelen van een PWA met offline functionaliteiten.
\begin{table}[]
	\begin{tabular}{llllll}
		Edge & Firefox & Chrome & Safari & Android (Chrome) & IOS (Safari) \\
		Ja   & Ja      &  Ja     & Ja     & Ja               & Ja          
	\end{tabular}	
	\caption{ondersteuning online status }
	\label{ondersteuning_online status}
\end{table}

\paragraph{Vibratiemotor }

De Vibration API \autocite{Kostionen2020} zorgt ervoor dat de vibratiemotor kan aangesproken worden vanuit de webapplicatie.

\begin{table}[]
	\begin{tabular}{llllll}
		Edge & Firefox & Chrome & Safari & Android (Chrome) & IOS (Safari) \\
		Ja   & Ja      &  Ja     & Nee     & Ja               & Nee          
	\end{tabular}	
	\caption{ondersteuning vibratiemotor  }
	\label{ondersteuning_vibratiemotor }
\end{table}


\paragraph{Batterijstatus}

Aan de hand van de Battery Status API \autocite{Kostiainen2020} kan er informatie over de batterij van het toestel verkregen worden.

Volgende informatie kan verkregen worden:
 \begin{itemize}
	\item	Aan het opladen
	\item	Batterijpercentage
	\item	Bij opladen, tijd tot volladen
	\item	Bij niet opladen, tijd tot batterij leeg
\end{itemize}

Aan de hand van deze API kunnen er ook acties uitgevoerd worden op basis van het veranderen van de toestand van de batterij. Er kan bijvoorbeeld een functie uitgevoerd worden als de gebruiker zijn toestel met een energiebron verbindt.

\begin{table}[]
	\begin{tabular}{llllll}
		Edge & Firefox & Chrome & Safari & Android (Chrome) & IOS (Safari) \\
		Ja   & Nee      &  Ja     & Nee     & Ja               & Nee          
	\end{tabular}	
	\caption{ondersteuning batterijstatus  }
	\label{ondersteuning_batterijstatus}
\end{table}

\paragraph{Toestelgeheugen}
de Device Memory API \autocite{Panicker2020} geeft informatie over het RAM-geheugen van het toestel van de gebruiker. Dit kan interessant zijn voor het laden van een eventuele lichtere versie van een website voor minder capabele toestellen.

\begin{table}[]
	\begin{tabular}{llllll}
		Edge & Firefox & Chrome & Safari & Android (Chrome) & IOS (Safari) \\
		Ja   & Nee      &  Ja     & Nee     & Ja               & Nee          
	\end{tabular}	
	\caption{ondersteuning toestelgeheugen }
	\label{ondersteuning_toestelgeheugen}
\end{table}



\subsubsection{Native gedrag}
\subsubsection{Besturingssysteem}
\subsubsection{Input}
\subsubsection{User experience}
\subsubsection{Locatie en positionering}
\subsubsection{Scherm en output}

\subsection{Conclusie }

\subsubsection{Browsers}

\subsubsection{Mobiele besturingssystemen }

\subsubsection{Desktop besturingssystemen}






